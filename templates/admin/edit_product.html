{% extends 'admin/admin_base.html' %}

{% block title %}Edit Produk - Admin{% endblock %}
{% block page_title %}Edit Produk{% endblock %}

{% block admin_content %}
<div class="uk-card uk-card-default uk-card-body uk-animation-slide-bottom" style="margin-left: 2rem;">
    <form action="{{ url_for('edit_product', id=product._id) }}" method="POST" enctype="multipart/form-data">
        <div class="uk-margin">
            <label class="uk-form-label" for="form-name">Nama Produk</label>
            <div class="uk-form-controls">
                <input class="uk-input" id="form-name" type="text" name="name" value="{{ product.name }}" required>
            </div>
        </div>
        <div class="uk-margin">
            <label class="uk-form-label" for="form-description">Deskripsi</label>
            <div class="uk-form-controls">
                <textarea class="uk-textarea" id="form-description" name="description" rows="5" required>{{ product.description }}</textarea>
            </div>
        </div>
        <div class="uk-margin">
            <label class="uk-form-label" for="form-price">Harga (Rp)</label>
            <div class="uk-form-controls">
                <input class="uk-input" id="form-price" type="number" step="0.01" name="price" value="{{ product.price }}" required min="0">
            </div>
        </div>
        <div class="uk-margin">
            <label class="uk-form-label" for="form-category">Kategori</label>
            <div class="uk-form-controls">
                <input class="uk-input" id="form-category" type="text" name="category" value="{{ product.category }}" required>
            </div>
        </div>
        <div class="uk-margin">
            <label class="uk-form-label" for="form-image">Gambar Produk Saat Ini</label>
            {% if product.image_url %}
            <div class="uk-margin-small-bottom">
                <img src="{{ product.image_url }}" alt="Gambar Produk" width="150" class="uk-border-rounded">
            </div>
            {% else %}
            <p>Tidak ada gambar saat ini.</p>
            {% endif %}
            <label class="uk-form-label" for="form-new-image">Unggah Gambar Baru (Opsional)</label>
            <div uk-form-custom="target: true">
                <input type="file" name="image" accept="image/*">
                <input class="uk-input uk-form-width-medium" type="text" placeholder="Pilih file gambar..." disabled>
            </div>
            <p class="uk-text-meta">Biarkan kosong jika tidak ingin mengubah gambar.</p>
        </div>
        <div class="uk-margin uk-text-right">
            <button class="uk-button uk-button-primary" type="submit">Perbarui Produk</button>
            <a href="{{ url_for('manage_products') }}" class="uk-button uk-button-default uk-margin-small-left">Batal</a>
        </div>
    </form>
</div>
{% endblock %}