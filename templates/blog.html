{% extends 'base.html' %}

{% block title %}Blog Kami - Lite Silky Dessert{% endblock %}

{% block content %}
<div class="uk-section uk-section-muted uk-padding-large">
    <div class="uk-container">
        <h1 class="uk-h1 uk-text-center uk-margin-large-bottom uk-animation-slide-bottom">Blog Lite Silky Dessert</h1>

        <div class="uk-child-width-1-1 uk-child-width-1-2@s uk-child-width-1-3@m uk-grid-match" uk-grid>
            {% for post in posts %}
            <div>
                <div class="uk-card uk-card-default uk-card-hover uk-animation-fade">
                    <div class="uk-card-media-top uk-cover-container" style="height: 200px;">
                        <a href="{{ url_for('blog_post', id=post._id) }}">
                            <img src="{{ post.image_url if post.image_url else url_for('static', filename='img/placeholder.jpg') }}"
                                 alt="{{ post.title }}" uk-cover>
                            <canvas width="600" height="400"></canvas>
                        </a>
                    </div>
                    <div class="uk-card-body">
                        <h3 class="uk-card-title uk-margin-small-bottom">
                            <a href="{{ url_for('blog_post', id=post._id) }}" class="uk-link-heading">{{ post.title }}</a>
                        </h3>
                        <p class="uk-text-meta uk-margin-small-top">
                            Ditulis oleh {{ post.author }} pada {{ post.date_posted.strftime('%d %b %Y') }}
                        </p>
                        <p>{{ post.content | striptags | truncate(150) }}</p>
                        <a href="{{ url_for('blog_post', id=post._id) }}" class="uk-button uk-button-text">Baca Selengkapnya <span uk-icon="arrow-right"></span></a>
                    </div>
                </div>
            </div>
            {% else %}
            <p class="uk-width-1-1 uk-text-center uk-text-lead uk-margin-large-top">Belum ada postingan blog. Silakan cek lagi nanti!</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}