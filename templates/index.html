{% extends 'base.html' %}

{% block title %}Beranda - Lite Silky Dessert{% endblock %}
{% block meta_description %}Temukan aneka pilihan dessert lezat, dari kue-kue manis hingga puding segar. Pesan dessert favorit Anda dengan mudah hanya di Lite Silky Dessert.{% endblock %}

{% block content %}
<div class="uk-section uk-section-large uk-section-cover uk-light uk-flex uk-flex-middle"
     style="background-image: url({{ url_for('static', filename='images/placeholder.jpg') }}); background-position: center; background-size: cover; height: 600px;"
     uk-parallax="bgy: -200">
    <div class="uk-width-1-1">
        <div class="uk-container uk-text-center">
            <h1 class="uk-heading-xlarge uk-text-shadow uk-animation-slide-bottom">Lite Silky Dessert, Ceriakan Harimu</h1>
            <p class="uk-text-lead uk-text-shadow uk-width-3-4@m uk-margin-auto uk-animation-slide-bottom uk-animation-delay-small" style="color: #fff;">
                Dessert homemade terbaik untuk momen spesial Anda.
            </p>
            <div class="uk-margin-medium-top uk-animation-slide-bottom uk-animation-delay-medium">
                <a href="{{ url_for('products') }}" class="uk-button uk-button-primary uk-button-large" style="margin-bottom: 1rem;">Lihat Produk Kami</a>
                <a href="{{ url_for('contact') }}" class="uk-button uk-button-default uk-button-large uk-margin-small-left" style="margin-bottom: 1rem;">Hubungi Kami</a>
            </div>
        </div>
    </div>
</div>

<div class="uk-section uk-section-muted uk-padding-large">
    <div class="uk-container">
        <h2 class="uk-h2 uk-text-center uk-margin-large-bottom">Produk Pilihan Kami</h2>
        <div class="uk-child-width-1-2@s uk-child-width-1-4@m uk-grid-match" uk-grid>
            {% for product in products %}
            <div>
                <div class="uk-card uk-card-default uk-card-hover uk-animation-fade">
                    <div class="uk-card-media-top">
                        <a href="{{ url_for('product_detail', id=product._id) }}">
                            <img src="{{ product.image_url if product.image_url else url_for('static', filename='images/placeholder.jpg') }}"
                                 alt="{{ product.name }}" class="uk-cover" style="height: 200px; width: 100%;">
                        </a>
                    </div>
                    <div class="uk-card-body uk-text-center">
                        <h3 class="uk-card-title uk-margin-remove-bottom">{{ product.name }}</h3>
                        <p class="uk-text-meta uk-margin-small-top">Rp {{ "{:,.0f}".format(product.price) }}</p>
                        <button class="uk-button uk-button-primary uk-button-small uk-margin-top add-to-cart-btn"
                                data-id="{{ product._id }}"
                                data-name="{{ product.name }}"
                                data-price="{{ product.price }}"
                                data-image="{{ product.image_url if product.image_url else url_for('static', filename='images/placeholder.jpg') }}">
                            <span uk-icon="cart" style="color: #fff;"></span> Tambah ke Keranjang
                        </button>
                    </div>
                </div>
            </div>
            {% else %}
            <p class="uk-width-1-1 uk-text-center">Belum ada produk untuk ditampilkan.</p>
            {% endfor %}
        </div>
        <div class="uk-text-center uk-margin-large-top">
            <a href="{{ url_for('products') }}" class="uk-button uk-button-secondary">Lihat Semua Produk</a>
        </div>
    </div>
</div>

<div class="uk-section uk-section-default uk-padding-large">
    <div class="uk-container">
        <h2 class="uk-h2 uk-text-center uk-margin-large-bottom">Blog Terbaru Kami</h2>
        <div class="uk-child-width-1-1 uk-child-width-1-3@m uk-grid-match" uk-grid>
            {% for post in blog_posts %}
            <div>
                <div class="uk-card uk-card-default uk-card-hover uk-animation-fade">
                    <div class="uk-card-media-top">
                        <a href="{{ url_for('blog_post', id=post._id) }}">
                            <img src="{{ post.image_url if post.image_url else url_for('static', filename='images/placeholder.jpg') }}"
                                 alt="{{ post.title }}" class="uk-cover" style="height: 200px; width: 100%;">
                        </a>
                    </div>
                    <div class="uk-card-body">
                        <h3 class="uk-card-title uk-margin-small-bottom">
                            <a href="{{ url_for('blog_post', id=post._id) }}" class="uk-link-heading">{{ post.title }}</a>
                        </h3>
                        <p class="uk-text-meta uk-margin-small-top">
                            Ditulis oleh {{ post.author }} pada {{ post.date_posted.strftime('%d %b %Y') }}
                        </p>
                        <p>{{ post.content | striptags | truncate(150) }}</p>
                        <a href="{{ url_for('blog_post', id=post._id) }}" class="uk-button uk-button-text">Baca Selengkapnya <span uk-icon="arrow-right"></span></a>
                    </div>
                </div>
            </div>
            {% else %}
            <p class="uk-width-1-1 uk-text-center">Belum ada postingan blog untuk ditampilkan.</p>
            {% endfor %}
        </div>
        <div class="uk-text-center uk-margin-large-top">
            <a href="{{ url_for('blog') }}" class="uk-button uk-button-secondary">Lihat Semua Postingan Blog</a>
        </div>
    </div>
</div>
{% endblock %}